2024-02-21 10:17:18 INFO  [background-preinit] org.hibernate.validator.internal.util.Version:(21) - HV000001: Hibernate Validator 6.2.5.Final
2024-02-21 10:17:18 INFO  [main] com.dwsoft.webapp.Starter:(55) - Starting Starter using Java 1.8.0_202 on LAPTOP-B3PDTN24 with PID 23828 (D:\dev-code\guoyue\guoyue-dwe-parent\guoyue-dwe-starter\target\classes started by M in D:\dev-code\guoyue\guoyue-dwe-parent\guoyue-dwe-starter)
2024-02-21 10:17:18 DEBUG [main] com.dwsoft.webapp.Starter:(56) - Running with Spring Boot v2.5.15, Spring v5.3.27
2024-02-21 10:17:18 INFO  [main] com.dwsoft.webapp.Starter:(686) - The following 1 profile is active: "dev"
2024-02-21 10:17:21 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate:(132) - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-02-21 10:17:21 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate:(201) - Finished Spring Data repository scanning in 498 ms. Found 75 JPA repository interfaces.
2024-02-21 10:17:24 INFO  [main] com.alibaba.druid.pool.DruidDataSource:(1007) - {dataSource-1} inited
2024-02-21 10:17:24 WARN  [main] org.hibernate.cfg.AnnotationBinder:(926) - HHH000457: Joined inheritance hierarchy [com.dwsoft.webapp.sys.org.entity.SysOrgElement] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)
2024-02-21 10:17:27 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean:(437) - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-02-21 10:17:27 INFO  [main] org.reflections.Reflections:(229) - Reflections took 345 ms to scan 36 urls, producing 663 keys and 3514 values 
2024-02-21 10:17:27 INFO  [main] org.reflections.Reflections:(229) - Reflections took 266 ms to scan 26 urls, producing 527 keys and 3032 values 
2024-02-21 10:17:27 INFO  [main] com.dwsoft.core.i18n.compoment.MessageResourceExtension:(65) - init MessageResourceExtension...
2024-02-21 10:17:28 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer:(108) - Tomcat initialized with port(s): 8081 (http)
2024-02-21 10:17:28 INFO  [main] org.apache.coyote.http11.Http11NioProtocol:(173) - Initializing ProtocolHandler ["http-nio-8081"]
2024-02-21 10:17:28 INFO  [main] org.apache.catalina.core.StandardService:(173) - Starting service [Tomcat]
2024-02-21 10:17:28 INFO  [main] org.apache.catalina.core.StandardEngine:(173) - Starting Servlet engine: [Apache Tomcat/9.0.75]
2024-02-21 10:17:28 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/dwbamserver]:(173) - Initializing Spring embedded WebApplicationContext
2024-02-21 10:17:28 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:(290) - Root WebApplicationContext: initialization completed in 9594 ms
2024-02-21 10:17:30 INFO  [main] org.reflections.Reflections:(229) - Reflections took 261 ms to scan 26 urls, producing 527 keys and 3032 values 
2024-02-21 10:17:37 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/dwbamserver]:(173) - Initializing plugin embedded WebApplicationContext
2024-02-21 10:17:37 INFO  [main] com.pluginfactory.spring.boot.loader.PluginApplicationInitializer:(47) - Plugin WebApplicationContext: initialization completed in 1708481857506 ms
2024-02-21 10:17:37 INFO  [main] com.pluginfactory.core.context.AbstractApplicationContext:(193) - Refreshing com.pluginfactory.core.context.embedded.ConfigEmbeddedWebApplicationContext;hashCode=997850486: startup date [Wed Feb 21 10:17:37 GMT+08:00 2024].
2024-02-21 10:17:39 DEBUG [main] com.dwsoft.core.security.auth.LtpaTokenAuthenticationFilter:(242) - Filter 'ltpaTokenAuthenticationFilter' configured for use
2024-02-21 10:17:39 DEBUG [main] com.dwsoft.core.openapi.security.api.jwt.JwtAuthenticationTokenFilter:(242) - Filter 'authenticationTokenFilterBean' configured for use
2024-02-21 10:17:39 INFO  [main] org.reflections.Reflections:(229) - Reflections took 250 ms to scan 26 urls, producing 527 keys and 3032 values 
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/v2/api-docs/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/v2/api-docs/**'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/webjars/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/webjars/**'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/swagger-resources']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/swagger-resources'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/swagger-resources/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/swagger-resources/**'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.html']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.html'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.js']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.js'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.css']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.css'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.svg']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.svg'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.ttf']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.ttf'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.woff']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.woff'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.eot']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.eot'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.ttf']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.ttf'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/*.png']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/*.png'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/antd/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/antd/**'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/.~~spring-boot!~/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/.~~spring-boot!~/**'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/.~~spring-boot!~']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/.~~spring-boot!~'] with []
2024-02-21 10:17:39 WARN  [main] org.springframework.security.config.annotation.web.builders.WebSecurity:(294) - You are asking Spring Security to ignore Ant [pattern='/user/login']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(55) - Will secure Ant [pattern='/user/login'] with []
2024-02-21 10:17:39 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain:(52) - Will not secure any request
2024-02-21 10:17:39 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/dwbamserver]:(173) - Initializing Spring TestDispatcherServlet ''
2024-02-21 10:17:39 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet:(525) - Initializing Servlet ''
2024-02-21 10:17:40 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet:(547) - Completed initialization in 953 ms
2024-02-21 10:17:40 INFO  [main] com.dwsoft.webapp.inte.ding.DingTalkProxyDispatcher:(193) - deployDingConfig成功：0424384b2580e9510c86bf66363e845d,dinga3g72vj5fx4kbsmr
2024-02-21 10:17:40 INFO  [main] com.dwsoft.webapp.inte.ding.DingTalkProxyDispatcher:(197) - deployDingConfig 默认企业接口成功：0424384b2580e9510c86bf66363e845d,dinga3g72vj5fx4kbsmr
2024-02-21 10:17:41 INFO  [main] com.dwsoft.webapp.inte.ding.DingTalkProxyDispatcher:(202) - DingConfig已成功运行：0424384b2580e9510c86bf66363e845d
2024-02-21 10:17:41 INFO  [main] org.quartz.impl.StdSchedulerFactory:(1220) - Using default implementation for ThreadExecutor
2024-02-21 10:17:41 INFO  [main] org.quartz.core.SchedulerSignalerImpl:(61) - Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2024-02-21 10:17:41 INFO  [main] org.quartz.core.QuartzScheduler:(229) - Quartz Scheduler v.2.3.2 created.
2024-02-21 10:17:41 INFO  [main] org.springframework.scheduling.quartz.LocalDataSourceJobStore:(672) - Using db table-based data access locking (synchronization).
2024-02-21 10:17:41 INFO  [main] org.springframework.scheduling.quartz.LocalDataSourceJobStore:(145) - JobStoreCMT initialized.
2024-02-21 10:17:41 INFO  [main] org.quartz.core.QuartzScheduler:(294) - Scheduler meta-data: Quartz Scheduler (v2.3.2) 'DwScheduler' with instanceId 'LAPTOP-B3PDTN241708481861157'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 20 threads.
  Using job-store 'org.springframework.scheduling.quartz.LocalDataSourceJobStore' - which supports persistence. and is clustered.

2024-02-21 10:17:41 INFO  [main] org.quartz.impl.StdSchedulerFactory:(1374) - Quartz scheduler 'DwScheduler' initialized from an externally provided properties instance.
2024-02-21 10:17:41 INFO  [main] org.quartz.impl.StdSchedulerFactory:(1378) - Quartz scheduler version: 2.3.2
2024-02-21 10:17:41 INFO  [main] org.quartz.core.QuartzScheduler:(2293) - JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@2f506649
2024-02-21 10:17:41 INFO  [main] com.dwsoft.webapp.hr.attend.engine.HrAttendEngineFactoryBean:(75) - 添加事件监听器: com.dwsoft.webapp.hr.attend.service.impl.HrAttendGroupServiceImpl$$EnhancerBySpringCGLIB$$ae9a6021
2024-02-21 10:17:41 INFO  [main] org.reflections.Reflections:(229) - Reflections took 21 ms to scan 1 urls, producing 16 keys and 99 values 
2024-02-21 10:17:41 INFO  [main] org.reflections.Reflections:(229) - Reflections took 12 ms to scan 1 urls, producing 5 keys and 6 values 
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取员工部门$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取员工工号$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取员工考勤组$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取员工岗位$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$当天是否自由班次$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$当天是否法定节假日$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$当天班次名称$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$当天是否休息$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天正常打卡次数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天迟到分钟数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天非缺卡打卡结果数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天早到分钟数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天晚走分钟数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天早退打卡次数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天早退分钟数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天迟到打卡次数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取当天严重迟到分钟数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(46) - @@add defined function:$获取班内请假时长$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(108) - @@init macros:$岗位$=$获取员工岗位$()
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(108) - @@init macros:$工号$=$获取员工工号$()
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(108) - @@init macros:$总缺卡次数$=$上班缺卡次数$ + $下班缺卡次数$
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(108) - @@init macros:$二级部门$=$获取员工部门$(2,0)
2024-02-21 10:17:41 DEBUG [main] com.dwsoft.webapp.hr.attend.engine.rule.impl.DefaultAttendReportExpressRunner:(108) - @@init macros:$一级部门$=$获取员工部门$(1,0)
2024-02-21 10:17:41 INFO  [main] com.dwsoft.webapp.hr.attend.engine.impl.AttendanceEngineImpl:(33) - AttendanceEngine default created
2024-02-21 10:17:42 INFO  [main] org.apache.coyote.http11.Http11NioProtocol:(173) - Starting ProtocolHandler ["http-nio-8081"]
2024-02-21 10:17:42 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer:(220) - Tomcat started on port(s): 8081 (http) with context path '/dwbamserver'
2024-02-21 10:17:42 INFO  [main] org.springframework.scheduling.quartz.SchedulerFactoryBean:(734) - Will start Quartz Scheduler [DwScheduler] in 1 seconds
2024-02-21 10:17:42 INFO  [dw-soft-1] com.dwsoft.core.launch.StartEventListener:(26) - ---[HR-SERVER]---启动完成，当前使用的端口:[8081]，环境变量:[dev]---
2024-02-21 10:17:43 DEBUG [main] com.dwsoft.webapp.sys.timing.service.impl.SysTimingSetServiceImpl:(369) - 重新安排所有定时任务，任务数：7
2024-02-21 10:17:43 INFO  [main] com.dwsoft.webapp.Starter:(61) - Started Starter in 24.819 seconds (JVM running for 25.55)
2024-02-21 10:17:43 INFO  [Quartz Scheduler [DwScheduler]] org.springframework.scheduling.quartz.SchedulerFactoryBean:(750) - Starting Quartz Scheduler now, after delay of 1 seconds
2024-02-21 10:17:43 INFO  [Quartz Scheduler [DwScheduler]] org.springframework.scheduling.quartz.LocalDataSourceJobStore:(3644) - ClusterManager: detected 1 failed or restarted instances.
2024-02-21 10:17:43 INFO  [Quartz Scheduler [DwScheduler]] org.springframework.scheduling.quartz.LocalDataSourceJobStore:(3503) - ClusterManager: Scanning for instance "LAPTOP-B3PDTN241708481303312"'s failed in-progress jobs.
2024-02-21 10:17:43 INFO  [Quartz Scheduler [DwScheduler]] org.quartz.core.QuartzScheduler:(547) - Scheduler DwScheduler_$_LAPTOP-B3PDTN241708481861157 started.
